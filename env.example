# =============================================================================
# SUPABASE DATABASE CONFIGURATION
# =============================================================================
# This project uses Supabase PostgreSQL as the main database
# - Main Database: postgres schema (production data)
# - Test Database: test schema (for isolated testing)
# - No Docker required - database runs in Supabase cloud
# =============================================================================

# Database Configuration
# Supabase PostgreSQL with connection pooling (for production use)
DATABASE_URL="postgresql://postgres:[YOUR-PASSWORD]@aws-1-eu-central-2.pooler.supabase.com:6543/postgres?pgbouncer=true"

# Direct Supabase connection (for migrations and direct access)
DIRECT_URL="postgresql://postgres:[YOUR-PASSWORD]@aws-1-eu-central-2.supabase.com:5432/postgres"

# Test Schema Configuration (for isolated testing)
TEST_SCHEMA="test"

# Redis Configuration (Local Only - for caching and sessions)
REDIS_URL="redis://localhost:6379"

# JWT Configuration
JWT_SECRET="your-super-secret-jwt-key-change-in-production"
JWT_EXPIRES_IN="24h"
JWT_REFRESH_EXPIRES_IN="7d"

# Server Configuration
PORT=3000
NODE_ENV=development

# CORS Configuration
CORS_ORIGIN="http://localhost:3001"

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Email Configuration (for password reset and verification)
SMTP_HOST="smtp.gmail.com"
SMTP_PORT=587
SMTP_USER="your-email@gmail.com"
SMTP_PASS="your-app-password"

# Frontend Configuration
REACT_APP_API_URL="http://localhost:3000"
REACT_APP_ENVIRONMENT="development"

# Logging
LOG_LEVEL="info"
LOG_FILE="logs/app.log"

# Security
BCRYPT_SALT_ROUNDS=12
SESSION_SECRET="your-session-secret-change-in-production"

# Google Analytics 4 API Configuration
GOOGLE_CLIENT_ID="your-google-client-id"
GOOGLE_CLIENT_SECRET="your-google-client-secret"
GOOGLE_REDIRECT_URI="http://localhost:3000/api/auth/google/callback"
GOOGLE_ANALYTICS_PROPERTY_ID="your-ga4-property-id"
GOOGLE_APPLICATION_CREDENTIALS="path/to/service-account-key.json"

# n8n Webhook Integration Configuration
# Comma-separated list of allowed IP addresses/ranges for webhook security
# Supports CIDR notation (e.g., "192.168.1.0/24,10.0.0.0/8")
ALLOWED_WEBHOOK_IPS=""

# Webhook rate limiting (more permissive than general API rate limiting)
WEBHOOK_RATE_LIMIT_WINDOW_MS=900000
WEBHOOK_RATE_LIMIT_MAX_REQUESTS=1000

# Webhook payload size limit
WEBHOOK_MAX_PAYLOAD_SIZE="1mb"

# Webhook signature validation (optional enhancement)
WEBHOOK_SIGNATURE_SECRET="your-webhook-signature-secret"
